var DagreFlow=function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){"use strict";!function(){var r,n,o,a,i=e(1),l=e(2),u=e(3),s=function(t,e){r=t,n=t.select("g"),o=e,a=new dagreD3.render,i.create(o)},c=function(){a(n,o),v(),f(),u.setZoom(r,n,o)},f=function(){var t=i.getNodes(),r=!0,e=!1,n=void 0;try{for(var o,a=Object.keys(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,u=t[l];u.properties.status&&d(l,u.properties.status)}}catch(s){e=!0,n=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(e)throw n}}},d=function(t,r){i.setNodeStatus(t,r);var e=h(t);e.classed(r,!0)},v=function(){var t=i.getClusters();t.forEach(function(t){y(t)})},y=function(t){var r=h(t.id);if(0===r[0].length)return!1;var e=l.icons,n=r.select("rect"),o=r.select(".label g"),a=o.insert("path",":first-child");a.attr("d",function(r){return t.cluster.isExpanded?e.minus:e.plus}).attr("transform","translate(0, -4) scale(0.8)").attr("class",function(r){return t.cluster.isExpanded?"toggle-link expanded":"toggle-link collapsed"});var i=n.attr("width"),u=n.attr("height");t.cluster.isExpanded?o.attr("transform","translate("+-i/2+","+-u/2+")"):(o.attr("transform","translate("+-i/2+","+-u/4+")"),n.attr("width",parseFloat(i)+10)),o.select("text").attr("transform","translate(25, 0)"),a.on("click",function(r){t.cluster.isExpanded?p(r):x(r)})},h=function(t){var e=r.selectAll(".cluster,.node");return e.filter(function(r){return r===t})},p=function(t){i.collapseCluster(t);var r=i.getNodes(),e=r[t];if(e.isCluster){var n=e.cluster.contents,a=e.cluster.edges,l=!0,u=!1,s=void 0;try{for(var f,d=Object.keys(n)[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var v=f.value;o.removeNode(v)}}catch(y){u=!0,s=y}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw s}}a.outer.input.forEach(function(e){var n=e.v;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(n,t)}),a.outer.output.forEach(function(e){var n=e.w;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(t,n)})}c()},x=function(t){i.expandCluster(t);var r=i.getNodes(),e=r[t];if(e.isCluster){var n,a,l,u,s,f,d,v,y,h,p,x,g,w,b;!function(){o.removeNode(t),o.setNode(t,e.properties);var c=e.cluster.contents,k=e.cluster.edges,m=[],C=[];Object.keys(c).forEach(function(t){r[t].isCluster?C.push(t):m.push(t)}),n=!0,a=!1,l=void 0;try{for(u=m[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var E=s.value;o.setNode(E,r[E].properties),o.setParent(E,t)}}catch(S){a=!0,l=S}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw l}}f=!0,d=!1,v=void 0;try{for(y=C[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var E=h.value;o.setNode(E,r[E].properties),o.setParent(E,t),i.expandCluster(E);for(var O in r[E].cluster.contents)o.setParent(O,E)}}catch(S){d=!0,v=S}finally{try{!f&&y["return"]&&y["return"]()}finally{if(d)throw v}}p=!0,x=!1,g=void 0;try{for(w=Object.keys(e.parents)[Symbol.iterator]();!(p=(b=w.next()).done);p=!0){var j=b.value;o.setParent(t,j)}}catch(S){x=!0,g=S}finally{try{!p&&w["return"]&&w["return"]()}finally{if(x)throw g}}k.inner.forEach(function(t){o.setEdge(t.v,t.w)}),k.outer.input.forEach(function(t){var e=t.v;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(e,t.w)}),k.outer.output.forEach(function(t){var e=t.w;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(t.v,e)})}()}c()};t.exports={init:s,render:c,setNodeStatus:d}}()},function(t,r){"use strict";!function(){var r={},e=function(){return r},n=function(){return r.nodes},o=function(){var t=[];return Object.keys(r.nodes).forEach(function(e){r.nodes[e].isCluster&&t.push(r.nodes[e])}),t},a=function(t){r.nodes={};var e=!0,n=!1,o=void 0;try{for(var a,s=Object.keys(t._nodes)[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var c=a.value;r.nodes[c]={};var v=r.nodes[c];v.id=c,v.properties=t._nodes[c],v.children=i(t,c),v.parents=l(t,c),v.isCluster=y(t,c),v.isCluster&&(v.cluster=u(t,c))}}catch(h){n=!0,o=h}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw o}}f(),d(t),t._flow=r},i=function(t,r){var e=t._out[r],n={},o=!0,a=!1,i=void 0;try{for(var l,u=Object.keys(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n[e[s].w]=!0}}catch(c){a=!0,i=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}return n},l=function(t,r){var e={},n=t._in[r],o=!0,a=!1,i=void 0;try{for(var l,u=Object.keys(n)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;e[n[s].v]=!0}}catch(c){a=!0,i=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}return e},u=function(t,r){var e={isExpanded:!0,contents:{}},n=t._children[r];return e.contents=s(t,n),e.edges=c(t,Object.keys(e.contents)),e},s=function g(t,r){var e={},n=!0,o=!1,a=void 0;try{for(var i,l=Object.keys(r)[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;if(e[u]=!0,y(t,u)){var s=g(t,t._children[u]);Object.assign(e,s)}}}catch(c){o=!0,a=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},c=function(t,r){var e={inner:[],outer:{input:[],output:[]}},n=!0,o=!1,a=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value,s=t._out[u],c=!0,f=!1,d=void 0;try{for(var v,y=function(){var t=v.value,n=s[t],o=r.filter(function(t){return t===n.w});o.length>0?e.inner.push({v:n.v,w:n.w}):e.outer.output.push({v:n.v,w:n.w})},h=Object.keys(s)[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)y()}catch(p){f=!0,d=p}finally{try{!c&&h["return"]&&h["return"]()}finally{if(f)throw d}}var x=t._in[u],g=!0,w=!1,b=void 0;try{for(var k,m=function(){var t=k.value,n=x[t],o=r.filter(function(t){return t===n.v});0===o.length&&e.outer.input.push({v:n.v,w:n.w})},C=Object.keys(x)[Symbol.iterator]();!(g=(k=C.next()).done);g=!0)m()}catch(p){w=!0,b=p}finally{try{!g&&C["return"]&&C["return"]()}finally{if(w)throw b}}}}catch(p){o=!0,a=p}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},f=function(){var t=o(),r=!0,e=!1,n=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value,u=l.cluster.edges.outer.output,s=!0,c=!1,f=void 0;try{for(var d,y=u[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var h=d.value,p=v(h,l.id);p&&(h.linkToCluster=p.id)}}catch(x){c=!0,f=x}finally{try{!s&&y["return"]&&y["return"]()}finally{if(c)throw f}}}}catch(x){e=!0,n=x}finally{try{!r&&i["return"]&&i["return"]()}finally{if(e)throw n}}},d=function(t){var r=o(),e=!0,n=!1,a=void 0;try{for(var i,l=r[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var u=i.value,s=u.id,c=!0,f=!1,d=void 0;try{for(var v,y=r[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){var h=v.value;t._children[h.id][s]&&(u.parents[h.id]=!0)}}catch(p){f=!0,d=p}finally{try{!c&&y["return"]&&y["return"]()}finally{if(f)throw d}}}}catch(p){n=!0,a=p}finally{try{!e&&l["return"]&&l["return"]()}finally{if(n)throw a}}},v=function(t,r){var e=o(),n=null,a=!0,i=!1,l=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value,f=c.cluster.edges.outer.input,d=f.filter(function(r){return JSON.stringify(t)===JSON.stringify(r)});if(d.length>0){d[0].linkToCluster=r,n=c;break}}}catch(v){i=!0,l=v}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw l}}return n},y=function(t,r){return Object.keys(t._children[r]).length>0},h=function(t){r.nodes[t]&&r.nodes[t].cluster&&(r.nodes[t].cluster.isExpanded=!0)},p=function(t){r.nodes[t]&&r.nodes[t].cluster&&(r.nodes[t].cluster.isExpanded=!1)},x=function(t,e){r.nodes[t].properties.status=e};t.exports={create:a,getFlow:e,getNodes:n,getClusters:o,expandCluster:h,collapseCluster:p,setNodeStatus:x}}()},function(t,r){"use strict";!function(){var r={plus:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",minus:"M25.979,12.896,5.979,12.896,5.979,19.562,25.979,19.562z"};t.exports={icons:r}}()},function(t,r){"use strict";!function(){var r=1,e=function(t,e,o){var a=d3.behavior.zoom().on("zoom",function(){r=d3.event.scale,e.attr("transform","translate("+d3.event.translate+")scale("+r+")")});t.call(a),n(t,o,a)},n=function(t,e,n){n.translate([(parseInt(t.attr("width"))-e.graph().width*r)/2,20]).scale(r).event(t),t.attr("height",e.graph().height*r+40)};t.exports={setZoom:e}}()}]);