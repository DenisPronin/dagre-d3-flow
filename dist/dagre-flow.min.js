var DagreFlow=function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){"use strict";!function(){var r,n,o,a,i=e(1),l=e(2),s=e(3),u=e(4),c=function(t,e,s){r=t,n=t.select("g"),o=e,a=new dagreD3.render,i.init(s),l.create(o)},f=function(){h();var t=400;o.graph().transition=function(r){return r.transition().duration(t)},a(n,o),setTimeout(function(){p(),d()},t+100),v(),u.setZoom(r,n,o)},d=function(){var t=i.get("shortLabels");if(!t)return!1;var e=function(t,r){return"<div class='description'>"+r+"</div>"};r.selectAll("g.node").attr("title",function(t){var r=o.node(t).description;return r?e(t,r):""}).each(function(t){var r=o.node(t).description;r&&$(this).tipsy({gravity:"n",opacity:1,html:!0})})},v=function(){var t=l.getNodes(),r=!0,e=!1,n=void 0;try{for(var o,a=Object.keys(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var i=o.value,s=t[i];s.properties.status&&y(i,s.properties.status)}}catch(u){e=!0,n=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(e)throw n}}},y=function(t,r){l.setNodeStatus(t,r);var e=g(t);e.classed(r,!0)},h=function(){var t=!0,r=!1,e=void 0;try{for(var n,a=Object.keys(o._edgeLabels)[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i=n.value,l=o._edgeLabels[i];l.lineInterpolate="bundle"}}catch(s){r=!0,e=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw e}}},p=function(){var t=l.getClusters();t.forEach(function(t){b(t)})},b=function(t){var r=g(t.id);if(0===r[0].length)return!1;var e=s.icons,n=r.select("rect"),o=r.select(".label g");if(!n[0][0]||!r[0][0])return!1;var a=n.attr("width"),i=n.attr("height");if(!a||!i)return!1;t.cluster.isExpanded?o.attr("transform","translate("+-a/2+","+-i/2+")").classed("toggle-link expanded",!0):(o.attr("transform","translate("+-a/2+","+-i/4+")").classed("toggle-link collapsed",!0),n.attr("width",parseFloat(a)+10)),t.cluster.isExpanded&&(o.selectAll("*").remove(),o.append("text").append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(t.properties.flowLabel)),o.select("text").transition().attr("transform","translate(25, 0)").duration(300);var l=o.insert("path",":first-child");l.attr("d",function(r){return t.cluster.isExpanded?e.minus:e.plus}).attr("transform","translate(0, -4) scale(0.8)"),o.on("click",function(r){t.cluster.isExpanded?x(r):w(r)})},g=function(t){var e=r.selectAll(".cluster,.node");return e.filter(function(r){return r===t})},x=function(t){l.collapseCluster(t);var r=l.getNodes(),e=r[t];if(e.isCluster){var n=e.cluster.contents,a=e.cluster.edges,i=!0,s=!1,u=void 0;try{for(var c,d=Object.keys(n)[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var v=c.value;o.removeNode(v)}}catch(y){s=!0,u=y}finally{try{!i&&d["return"]&&d["return"]()}finally{if(s)throw u}}a.outer.input.forEach(function(e){var n=e.v;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(n,t)}),a.outer.output.forEach(function(e){var n=e.w;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(t,n)}),o._nodes[t].label=o._nodes[t].flowLabel}f()},w=function(t){l.expandCluster(t);var r=l.getNodes(),e=r[t];if(e.isCluster){var n,a,i,s,u,c,d,v,y,h,p,b,g,x,w;!function(){o.removeNode(t),o.setNode(t,e.properties);var f=e.cluster.contents,m=e.cluster.edges,k=[],C=[];Object.keys(f).forEach(function(t){r[t].isCluster?C.push(t):k.push(t)}),n=!0,a=!1,i=void 0;try{for(s=k[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var E=u.value;o.setNode(E,r[E].properties),o.setParent(E,t)}}catch(S){a=!0,i=S}finally{try{!n&&s["return"]&&s["return"]()}finally{if(a)throw i}}c=!0,d=!1,v=void 0;try{for(y=C[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var E=h.value;o.setNode(E,r[E].properties),o.setParent(E,t),l.expandCluster(E);for(var O in r[E].cluster.contents)o.setParent(O,E)}}catch(S){d=!0,v=S}finally{try{!c&&y["return"]&&y["return"]()}finally{if(d)throw v}}p=!0,b=!1,g=void 0;try{for(x=Object.keys(e.parents)[Symbol.iterator]();!(p=(w=x.next()).done);p=!0){var _=w.value;o.setParent(t,_)}}catch(S){b=!0,g=S}finally{try{!p&&x["return"]&&x["return"]()}finally{if(b)throw g}}m.inner.forEach(function(t){o.setEdge(t.v,t.w)}),m.outer.input.forEach(function(t){var e=t.v;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(e,t.w)}),m.outer.output.forEach(function(t){var e=t.w;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(t.v,e)}),o._nodes[t].label=""}()}f()};t.exports={init:c,render:f,setNodeStatus:y}}()},function(t,r){"use strict";!function(){var r={shortLabels:!1,shortLabelLength:4},e=function(t){r=_.extend(r,t)},n=function(t){return r[t]};t.exports={init:e,get:n}}()},function(t,r,e){"use strict";!function(){var r=e(1),n={},o=function(){return n},a=function(){return n.nodes},i=function(){var t=[];return Object.keys(n.nodes).forEach(function(r){n.nodes[r].isCluster&&t.push(n.nodes[r])}),t},l=function(t){n.nodes={};var r=!0,e=!1,o=void 0;try{for(var a,i=Object.keys(t._nodes)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value;n.nodes[l]={};var d=n.nodes[l];d.id=l,d.properties=s(t,l),d.children=u(t,l),d.parents=c(t,l),d.isCluster=b(t,l),d.isCluster&&(d.cluster=f(t,l))}}catch(v){e=!0,o=v}finally{try{!r&&i["return"]&&i["return"]()}finally{if(e)throw o}}y(),h(t),t._flow=n},s=function(t,e){var n=t._nodes[e];if(b(t,e)){var o=n.label;n.label="",n.flowLabel=o}else{var a=r.get("shortLabels");if(a){var i=r.get("shortLabelLength");n.label.length>i&&(n.description=n.label,n.label=n.label.substring(0,i)+"...")}}return n},u=function(t,r){var e=t._out[r],n={},o=!0,a=!1,i=void 0;try{for(var l,s=Object.keys(e)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;n[e[u].w]=!0}}catch(c){a=!0,i=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(a)throw i}}return n},c=function(t,r){var e={},n=t._in[r],o=!0,a=!1,i=void 0;try{for(var l,s=Object.keys(n)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;e[n[u].v]=!0}}catch(c){a=!0,i=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(a)throw i}}return e},f=function(t,r){var e={isExpanded:!0,contents:{}},n=t._children[r];return e.contents=d(t,n),e.edges=v(t,Object.keys(e.contents)),e},d=function m(t,r){var e={},n=!0,o=!1,a=void 0;try{for(var i,l=Object.keys(r)[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;if(e[s]=!0,b(t,s)){var u=m(t,t._children[s]);Object.assign(e,u)}}}catch(c){o=!0,a=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},v=function(t,r){var e={inner:[],outer:{input:[],output:[]}},n=!0,o=!1,a=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value,u=t._out[s],c=!0,f=!1,d=void 0;try{for(var v,y=function(){var t=v.value,n=u[t],o=r.filter(function(t){return t===n.w});o.length>0?e.inner.push({v:n.v,w:n.w}):e.outer.output.push({v:n.v,w:n.w})},h=Object.keys(u)[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)y()}catch(p){f=!0,d=p}finally{try{!c&&h["return"]&&h["return"]()}finally{if(f)throw d}}var b=t._in[s],g=!0,x=!1,w=void 0;try{for(var m,k=function(){var t=m.value,n=b[t],o=r.filter(function(t){return t===n.v});0===o.length&&e.outer.input.push({v:n.v,w:n.w})},C=Object.keys(b)[Symbol.iterator]();!(g=(m=C.next()).done);g=!0)k()}catch(p){x=!0,w=p}finally{try{!g&&C["return"]&&C["return"]()}finally{if(x)throw w}}}}catch(p){o=!0,a=p}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},y=function(){var t=i(),r=!0,e=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,s=l.cluster.edges.outer.output,u=!0,c=!1,f=void 0;try{for(var d,v=s[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var y=d.value,h=p(y,l.id);h&&(y.linkToCluster=h.id)}}catch(b){c=!0,f=b}finally{try{!u&&v["return"]&&v["return"]()}finally{if(c)throw f}}}}catch(b){e=!0,n=b}finally{try{!r&&a["return"]&&a["return"]()}finally{if(e)throw n}}},h=function(t){var r=i(),e=!0,n=!1,o=void 0;try{for(var a,l=r[Symbol.iterator]();!(e=(a=l.next()).done);e=!0){var s=a.value,u=s.id,c=!0,f=!1,d=void 0;try{for(var v,y=r[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){var h=v.value;t._children[h.id][u]&&(s.parents[h.id]=!0)}}catch(p){f=!0,d=p}finally{try{!c&&y["return"]&&y["return"]()}finally{if(f)throw d}}}}catch(p){n=!0,o=p}finally{try{!e&&l["return"]&&l["return"]()}finally{if(n)throw o}}},p=function(t,r){var e=i(),n=null,o=!0,a=!1,l=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=c.cluster.edges.outer.input,d=f.filter(function(r){return JSON.stringify(t)===JSON.stringify(r)});if(d.length>0){d[0].linkToCluster=r,n=c;break}}}catch(v){a=!0,l=v}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw l}}return n},b=function(t,r){return Object.keys(t._children[r]).length>0},g=function(t){n.nodes[t]&&n.nodes[t].cluster&&(n.nodes[t].cluster.isExpanded=!0)},x=function(t){n.nodes[t]&&n.nodes[t].cluster&&(n.nodes[t].cluster.isExpanded=!1)},w=function(t,r){n.nodes[t].properties.status=r};t.exports={create:l,getFlow:o,getNodes:a,getClusters:i,expandCluster:g,collapseCluster:x,setNodeStatus:w}}()},function(t,r){"use strict";!function(){var r={plus:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",minus:"M25.979,12.896,5.979,12.896,5.979,19.562,25.979,19.562z"};t.exports={icons:r}}()},function(t,r){"use strict";!function(){var r=1,e=function(t,e,o){var a=d3.behavior.zoom().on("zoom",function(){r=d3.event.scale,e.attr("transform","translate("+d3.event.translate+")scale("+r+")")});t.call(a),n(t,o,a)},n=function(t,e,n){n.translate([(parseInt(t.attr("width"))-e.graph().width*r)/2,20]).scale(r).event(t),t.attr("height",e.graph().height*r+40)};t.exports={setZoom:e}}()}]);