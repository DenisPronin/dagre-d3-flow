var DagreFlow=function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){"use strict";!function(){var r,n,o,a,i=e(1),l=e(2),u=e(3),s=function(t,e){r=t,n=t.select("g"),o=e,a=new dagreD3.render,i.create(o)},c=function(){v();var t=400;o.graph().transition=function(r){return r.transition().duration(t)},a(n,o),setTimeout(function(){y()},t+100),f(),u.setZoom(r,n,o)},f=function(){var t=i.getNodes(),r=!0,e=!1,n=void 0;try{for(var o,a=Object.keys(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,u=t[l];u.properties.status&&d(l,u.properties.status)}}catch(s){e=!0,n=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(e)throw n}}},d=function(t,r){i.setNodeStatus(t,r);var e=h(t);e.classed(r,!0)},v=function(){var t=!0,r=!1,e=void 0;try{for(var n,a=Object.keys(o._edgeLabels)[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i=n.value,l=o._edgeLabels[i];l.lineInterpolate="bundle"}}catch(u){r=!0,e=u}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw e}}},y=function(){var t=i.getClusters();t.forEach(function(t){p(t)})},p=function(t){var r=h(t.id);if(0===r[0].length)return!1;var e=l.icons,n=r.select("rect"),o=r.select(".label g");if(!n[0][0]||!r[0][0])return!1;var a=n.attr("width"),i=n.attr("height");if(!a||!i)return!1;t.cluster.isExpanded?o.attr("transform","translate("+-a/2+","+-i/2+")").classed("toggle-link expanded",!0):(o.attr("transform","translate("+-a/2+","+-i/4+")").classed("toggle-link collapsed",!0),n.attr("width",parseFloat(a)+10)),t.cluster.isExpanded&&(o.selectAll("*").remove(),o.append("text").append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(t.properties.flowLabel)),o.select("text").transition().attr("transform","translate(25, 0)").duration(300);var u=o.insert("path",":first-child");u.attr("d",function(r){return t.cluster.isExpanded?e.minus:e.plus}).attr("transform","translate(0, -4) scale(0.8)"),o.on("click",function(r){t.cluster.isExpanded?x(r):b(r)})},h=function(t){var e=r.selectAll(".cluster,.node");return e.filter(function(r){return r===t})},x=function(t){i.collapseCluster(t);var r=i.getNodes(),e=r[t];if(e.isCluster){var n=e.cluster.contents,a=e.cluster.edges,l=!0,u=!1,s=void 0;try{for(var f,d=Object.keys(n)[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var v=f.value;o.removeNode(v)}}catch(y){u=!0,s=y}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw s}}a.outer.input.forEach(function(e){var n=e.v;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(n,t)}),a.outer.output.forEach(function(e){var n=e.w;e.linkToCluster&&!r[e.linkToCluster].cluster.isExpanded&&(n=e.linkToCluster),o.setEdge(t,n)}),o._nodes[t].label=o._nodes[t].flowLabel}c()},b=function(t){i.expandCluster(t);var r=i.getNodes(),e=r[t];if(e.isCluster){var n,a,l,u,s,f,d,v,y,p,h,x,b,g,w;!function(){o.removeNode(t),o.setNode(t,e.properties);var c=e.cluster.contents,m=e.cluster.edges,k=[],C=[];Object.keys(c).forEach(function(t){r[t].isCluster?C.push(t):k.push(t)}),n=!0,a=!1,l=void 0;try{for(u=k[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var E=s.value;o.setNode(E,r[E].properties),o.setParent(E,t)}}catch(S){a=!0,l=S}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw l}}f=!0,d=!1,v=void 0;try{for(y=C[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var E=p.value;o.setNode(E,r[E].properties),o.setParent(E,t),i.expandCluster(E);for(var O in r[E].cluster.contents)o.setParent(O,E)}}catch(S){d=!0,v=S}finally{try{!f&&y["return"]&&y["return"]()}finally{if(d)throw v}}h=!0,x=!1,b=void 0;try{for(g=Object.keys(e.parents)[Symbol.iterator]();!(h=(w=g.next()).done);h=!0){var _=w.value;o.setParent(t,_)}}catch(S){x=!0,b=S}finally{try{!h&&g["return"]&&g["return"]()}finally{if(x)throw b}}m.inner.forEach(function(t){o.setEdge(t.v,t.w)}),m.outer.input.forEach(function(t){var e=t.v;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(e,t.w)}),m.outer.output.forEach(function(t){var e=t.w;t.linkToCluster&&!r[t.linkToCluster].cluster.isExpanded&&(e=t.linkToCluster),o.setEdge(t.v,e)}),o._nodes[t].label=""}()}c()};t.exports={init:s,render:c,setNodeStatus:d}}()},function(t,r){"use strict";!function(){var r={},e=function(){return r},n=function(){return r.nodes},o=function(){var t=[];return Object.keys(r.nodes).forEach(function(e){r.nodes[e].isCluster&&t.push(r.nodes[e])}),t},a=function(t){r.nodes={};var e=!0,n=!1,o=void 0;try{for(var a,c=Object.keys(t._nodes)[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var f=a.value;r.nodes[f]={};var y=r.nodes[f];y.id=f,y.properties=i(t,f),y.children=l(t,f),y.parents=u(t,f),y.isCluster=p(t,f),y.isCluster&&(y.cluster=s(t,f))}}catch(h){n=!0,o=h}finally{try{!e&&c["return"]&&c["return"]()}finally{if(n)throw o}}d(),v(t),t._flow=r},i=function(t,r){var e=t._nodes[r];if(p(t,r)){var n=e.label;e.label="",e.flowLabel=n}return e},l=function(t,r){var e=t._out[r],n={},o=!0,a=!1,i=void 0;try{for(var l,u=Object.keys(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n[e[s].w]=!0}}catch(c){a=!0,i=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}return n},u=function(t,r){var e={},n=t._in[r],o=!0,a=!1,i=void 0;try{for(var l,u=Object.keys(n)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;e[n[s].v]=!0}}catch(c){a=!0,i=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw i}}return e},s=function(t,r){var e={isExpanded:!0,contents:{}},n=t._children[r];return e.contents=c(t,n),e.edges=f(t,Object.keys(e.contents)),e},c=function g(t,r){var e={},n=!0,o=!1,a=void 0;try{for(var i,l=Object.keys(r)[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;if(e[u]=!0,p(t,u)){var s=g(t,t._children[u]);Object.assign(e,s)}}}catch(c){o=!0,a=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},f=function(t,r){var e={inner:[],outer:{input:[],output:[]}},n=!0,o=!1,a=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value,s=t._out[u],c=!0,f=!1,d=void 0;try{for(var v,y=function(){var t=v.value,n=s[t],o=r.filter(function(t){return t===n.w});o.length>0?e.inner.push({v:n.v,w:n.w}):e.outer.output.push({v:n.v,w:n.w})},p=Object.keys(s)[Symbol.iterator]();!(c=(v=p.next()).done);c=!0)y()}catch(h){f=!0,d=h}finally{try{!c&&p["return"]&&p["return"]()}finally{if(f)throw d}}var x=t._in[u],b=!0,g=!1,w=void 0;try{for(var m,k=function(){var t=m.value,n=x[t],o=r.filter(function(t){return t===n.v});0===o.length&&e.outer.input.push({v:n.v,w:n.w})},C=Object.keys(x)[Symbol.iterator]();!(b=(m=C.next()).done);b=!0)k()}catch(h){g=!0,w=h}finally{try{!b&&C["return"]&&C["return"]()}finally{if(g)throw w}}}}catch(h){o=!0,a=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return e},d=function(){var t=o(),r=!0,e=!1,n=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value,u=l.cluster.edges.outer.output,s=!0,c=!1,f=void 0;try{for(var d,v=u[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){var p=d.value,h=y(p,l.id);h&&(p.linkToCluster=h.id)}}catch(x){c=!0,f=x}finally{try{!s&&v["return"]&&v["return"]()}finally{if(c)throw f}}}}catch(x){e=!0,n=x}finally{try{!r&&i["return"]&&i["return"]()}finally{if(e)throw n}}},v=function(t){var r=o(),e=!0,n=!1,a=void 0;try{for(var i,l=r[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var u=i.value,s=u.id,c=!0,f=!1,d=void 0;try{for(var v,y=r[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){var p=v.value;t._children[p.id][s]&&(u.parents[p.id]=!0)}}catch(h){f=!0,d=h}finally{try{!c&&y["return"]&&y["return"]()}finally{if(f)throw d}}}}catch(h){n=!0,a=h}finally{try{!e&&l["return"]&&l["return"]()}finally{if(n)throw a}}},y=function(t,r){var e=o(),n=null,a=!0,i=!1,l=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var c=u.value,f=c.cluster.edges.outer.input,d=f.filter(function(r){return JSON.stringify(t)===JSON.stringify(r)});if(d.length>0){d[0].linkToCluster=r,n=c;break}}}catch(v){i=!0,l=v}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw l}}return n},p=function(t,r){return Object.keys(t._children[r]).length>0},h=function(t){r.nodes[t]&&r.nodes[t].cluster&&(r.nodes[t].cluster.isExpanded=!0)},x=function(t){r.nodes[t]&&r.nodes[t].cluster&&(r.nodes[t].cluster.isExpanded=!1)},b=function(t,e){r.nodes[t].properties.status=e};t.exports={create:a,getFlow:e,getNodes:n,getClusters:o,expandCluster:h,collapseCluster:x,setNodeStatus:b}}()},function(t,r){"use strict";!function(){var r={plus:"M25.979,12.896 19.312,12.896 19.312,6.229 12.647,6.229 12.647,12.896 5.979,12.896 5.979,19.562 12.647,19.562 12.647,26.229 19.312,26.229 19.312,19.562 25.979,19.562z",minus:"M25.979,12.896,5.979,12.896,5.979,19.562,25.979,19.562z"};t.exports={icons:r}}()},function(t,r){"use strict";!function(){var r=1,e=function(t,e,o){var a=d3.behavior.zoom().on("zoom",function(){r=d3.event.scale,e.attr("transform","translate("+d3.event.translate+")scale("+r+")")});t.call(a),n(t,o,a)},n=function(t,e,n){n.translate([(parseInt(t.attr("width"))-e.graph().width*r)/2,20]).scale(r).event(t),t.attr("height",e.graph().height*r+40)};t.exports={setZoom:e}}()}]);